<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
	<Script file="RaidTracker.lua"/>
    <Script file="RaidTrackerGUI.lua"/>
   
   <!-- RaidTracker Main Frame -->
   <Frame name="RaidTrackerFrame" hidden="true">
 		<Scripts>
			<OnLoad>
				RaidTracker_OnLoad();
			</OnLoad>
			<OnEvent>
				RaidTracker_OnEvent(event);
			</OnEvent>
		</Scripts>
	</Frame>
	
	<!-- RaidTracker GUI Frame -->
    <Frame name="RaidTrackerGUI" frameStrata="DIALOG" parent="UIParent" hidden="true" movable="true" enableMouse="true">
        <Size><AbsDimension x="600" y="270"/></Size>
        <Anchors> <Anchor point="CENTER" /></Anchors>
        <Scripts>            
            <OnLoad>
                this:RegisterForDrag("LeftButton");
            </OnLoad>
			<OnDragStart>
				this:StartMoving();
			</OnDragStart>
			<OnDragStop>
				this:StopMovingOrSizing();
			</OnDragStop>			
        </Scripts>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <TileSize><AbsValue val="32"/></TileSize>
            <EdgeSize><AbsValue val="8"/></EdgeSize>
            <BackgroundInsets><AbsInset left="2" right="2" top="2" bottom="2"/></BackgroundInsets>
        </Backdrop>
        <Frames>		
		    <!-- Test Button -->
			<Button name="RaidTrackerTestButton" inherits="UIPanelButtonTemplate" text="Test">
				<Size><AbsDimension x="90" y="25"/></Size>
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER">
						<Offset>
							<AbsDimension x="0" y="120"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
				    <OnClick>
						RaidTrackerUI_TestButton()
                    </OnClick>
				</Scripts>
			</Button>
		    <!-- Load Button -->
			<Button name="RaidTrackerLoadButton" inherits="UIPanelButtonTemplate" text="Load">
				<Size><AbsDimension x="60" y="15"/></Size>
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER">
						<Offset>
							<AbsDimension x="-260" y="120"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
				    <OnClick>
						RaidTrackerUI_CreateWindowRaidlist();
						RaidTrackerUI_CreateRaidMemberListFrame();
						this:Hide();
                    </OnClick>
				</Scripts>
			</Button>
            <Layer level="ARTWORK">
                <FontString name="RaidTrackerTextString" outline="NORMAL" inherits="GameFontNormal" text="" hidden="false">
                    <Anchors><Anchor point="CENTER" relativePoint="CENTER"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors> 
                </FontString>
            </Layer>    
		</Frames>
   </Frame>		

   	<!-- RaidTracker Possition probe Frame -->
    <Frame name="RaidTrackerPossitionProbe" frameStrata="DIALOG" toplevel="true" parent="RaidTrackerGUI" hidden="false" movable="true" enableMouse="true">
        <Size><AbsDimension x="80" y="20"/></Size>
        <Anchors> <Anchor point="CENTER" /></Anchors>
        <Scripts>            
            <OnLoad>
                this:RegisterForDrag("LeftButton");
            </OnLoad>
			<OnDragStart>
				this:StartMoving();
			</OnDragStart>
			<OnDragStop>
				this:StopMovingOrSizing();
				x,y = RaidTrackerPossitionProbe:GetCenter()
				v,w = RaidTrackerGUI:GetCenter()
				x = x - v
				y = y - w
				x = math.floor(x)
				y = math.floor(y)
				RaidTrackerPossitionProbeString:SetText(x .. " | " ..  y)				
			</OnDragStop>			
        </Scripts>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <TileSize><AbsValue val="32"/></TileSize>
            <EdgeSize><AbsValue val="8"/></EdgeSize>
            <BackgroundInsets><AbsInset left="2" right="2" top="2" bottom="2"/></BackgroundInsets>
        </Backdrop>
        <Layers>
            <Layer level="ARTWORK">
                <FontString name="RaidTrackerPossitionProbeString" outline="NORMAL" inherits="GameFontNormal" text=":)" hidden="false">
                    <Anchors><Anchor point="CENTER" relativePoint="TOP"><Offset><AbsDimension x="0" y="-10"/></Offset></Anchor></Anchors> 
                    </FontString>
            </Layer>    
        </Layers>
   </Frame>		
	
	
</Ui>